const { default: axios } = require("axios");
const speciesArray = (array) =>
  array.map((e) => ({
    species: e.species,
  }));
const arrayGender = (array) =>
  array.map((e) => ({
    gender: e.gender,
  }));

  const  arrayStatus = (array) =>
  array.map((e) => ({
    status: e.status,
  }));
  const  arrayOrigin = (array) =>
  array.map((e) => ({
    origin: e.origin.name,
  }));
  const arrayLocation= (array) =>
  array.map((e) => ({
    location: e.location.name,
  }));
  

const getAllSpecieC = async () => {
  const findSpecieApi = (
    await axios.get("https://rickandmortyapi.com/api/character/")
  ).data.results;
  const speciesAll = speciesArray(findSpecieApi);
  const uniqueSpecies = [...new Set(speciesAll.map((e) => e.species))];

  return uniqueSpecies;
};

const getAllGenderC = async () => {
  const findGenderApi = (
    await axios.get("https://rickandmortyapi.com/api/character/")
  ).data.results;
  const allGender = arrayGender(findGenderApi);
  const uniqueGender = [...new Set(allGender.map((e) => e.gender))];

  return uniqueGender;
};
const getAllStatusC = async () => {
    const findStatusApi = (
      await axios.get("https://rickandmortyapi.com/api/character/")
    ).data.results;
    const allStatus = arrayStatus(findStatusApi);
    const uniqueStatus = [...new Set(allStatus.map((e) => e.status))];
  
    return uniqueStatus;
  };
  const getAllOriginC = async () => {
    const findOriginApi = (
      await axios.get("https://rickandmortyapi.com/api/character/")
    ).data.results;
    const allOrigin = arrayOrigin(findOriginApi);
    const uniqueOrigin = [...new Set(allOrigin.map((e) => e.origin))];
  
    return uniqueOrigin;
  };

  const getAllLocationC = async () => {
    const findLocationApi = (
      await axios.get("https://rickandmortyapi.com/api/character/")
    ).data.results;
    const allLocation = arrayLocation(findLocationApi);
    const uniqueLocation = [...new Set(allLocation.map((e) => e.location))];
  
    return uniqueLocation;
  };


module.exports = {
  getAllSpecieC,
  getAllGenderC,
  getAllStatusC,
  getAllOriginC,
  getAllLocationC
};
